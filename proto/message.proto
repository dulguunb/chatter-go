syntax = "proto3";
package chatter_message;
option go_package = "github.com/dulguunb/chatter-go";

message Message{
    int64 time = 1;
    string message = 2;
}

message Envelope {
    Address addr = 1;
    Message msg = 2;
}

message Address {
    string sender = 1;
    string receiver = 2;
}

//  flip the receiver and sender in the server implementation
service Chat {
    rpc SendEnvelope (Envelope) returns (Envelope);
    rpc ReceiveEnvelope (Address) returns (Envelope);
}